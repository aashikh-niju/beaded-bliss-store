<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wrist Whimsy - Handmade Bracelets | Beaded Bliss</title>
  <link rel="stylesheet" href="style.css">
  <meta name="description" content="Discover our collection of handmade beaded bracelets. Each piece is uniquely crafted with love and attention to detail." />
</head>
<body>
  <header>
    <h1>‚ú® Beaded Bliss ‚ú®</h1>
    <p>Handcrafted with Love, Worn with Pride</p>
  </header>

  <nav>
    <div class="nav-links">
      <a href="index.html">üè† Home</a>
      <a href="bracelets.html">üí´ Wrist Whimsy</a>
      <a href="crochet.html">üëú Knot & Carry</a>
      <a href="clay.html">üé® ClayClicks</a>
      <a href="contact.html">üìû Contact</a>
    </div>
    <a href="cart.html" class="cart-icon">
      <img src="/photos/car.png" alt="Cart">
      <span class="cart-count" id="cart-count">0</span>
    </a>
  </nav>

  <section class="page-title">
    <h1>üí´ Wrist Whimsy</h1>
  </section>

  <!-- Product Section -->
  <main class="container">
    <!-- Wrap product with link to individual product page -->
    <div class="product" data-product-id="ocean-bloom">
      <a href="product.html?name=Ocean+Bloom&img=flower.jpg">
        <img src="/photos/flower.jpg" alt="Ocean Bloom - Handmade Bracelet">
        <h3>Ocean Bloom</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>

    <!-- Wrap product with link to individual product page -->
    <div class="product" data-product-id="sunset-pearl">
      <a href="product.html?name=Sunset+Pearl&img=orange.png">
        <img src="/photos/orange.png" alt="Sunset Pearl - Handmade Bracelet">
        <h3>Sunset Pearl</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>

    <!-- Wrap product with link to individual product page -->
    <div class="product" data-product-id="moonlight-charm">
      <a href="product.html?name=Moonlight+Charm&img=star.png">
        <img src="/photos/star.png" alt="Moonlight Charm - Handmade Bracelet">
        <h3>Moonlight Charm</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>

    <div class="product" data-product-id="floral-grace">
      <a href="product.html?name=Floral+Grace&img=jasmine.png">
        <img src="/photos/jasmine.png" alt="Floral Grace - Handmade Bracelet">
        <h3>Floral Grace</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>
    
    <!-- Wrap product with link to individual product page -->
    <div class="product" data-product-id="midnight-shine">
      <a href="product.html?name=Midnight+Shine&img=black1.jpg">
        <img src="/photos/black1.jpg" alt="Midnight Shine - Handmade Bracelet">
        <h3>Midnight Shine</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>

    <!-- Wrap product with link to individual product page -->
    <div class="product" data-product-id="azure-dream">
      <a href="product.html?name=Azure+Dream&img=blue.png">
        <img src="/photos/blue.png" alt="Azure Dream - Handmade Bracelet">
        <h3>Azure Dream</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>

    <!-- Wrap product with link to individual product page -->
    <div class="product" data-product-id="twilight-drops">
      <a href="product.html?name=Twilight+Drops&img=stars.png">
        <img src="/photos/stars.png" alt="Twilight Drops - Handmade Bracelet">
        <h3>Twilight Drops</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>
    
    <div class="product" data-product-id="lime-bloom">
      <a href="product.html?name=Lime+Bloom&img=Bloom.png">
        <img src="/photos/Bloom.png" alt="Lime Bloom - Handmade Bracelet">
        <h3>Lime Bloom</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>
        
    <div class="product" data-product-id="blush-wings">
      <a href="product.html?name=Blush+Wings&img=flies.png">
        <img src="/photos/flies.png" alt="Blush Wings - Handmade Bracelet">
        <h3>Blush Wings</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>
    <div class="product" data-product-id="heart-bloom">
      <a href="product.html?name=Heart+Bloom&img=fly.png">
        <img src="/photos/fly.png" alt="Heart Bloom - Handmade Bracelet">
        <h3>Heart Bloom</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>
    <div class="product" data-product-id="dots-edition">
      <a href="product.html?name=DOTS+Edition&img=dots.png">
        <img src="/photos/dots.png" alt="DOTS Edition - Handmade Bracelet">
        <h3>DOTS Edition</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>
    <div class="product" data-product-id="queen-edition">
      <a href="product.html?name=QUEEN+Edition&img=queen.png">
        <img src="/photos/queen.png" alt="QUEEN Edition - Handmade Bracelet">
        <h3>QUEEN Edition</h3>
        <p class="price">‚Çπ50</p>
      </a>
    </div>







    <!-- Add more products here -->
  </main>

  <footer>
    <p>&copy; 2025 Beaded Bliss | Handcrafted with ‚ù§Ô∏è </p>
  </footer>

  <!-- Stock Manager Script -->
  <script src="stock-manager.js"></script>

  <!-- JavaScript for updating cart count and stock status -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const cartCount = document.getElementById('cart-count');
      const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
      const totalItems = cartItems.reduce((sum, item) => sum + item.quantity, 0);
      cartCount.textContent = totalItems;

      // Load prices and update product display
      loadProductPrices();
      // Update stock status for all products
      updateProductStockStatus();
    });

    function loadProductPrices() {
      const savedStockData = localStorage.getItem('productStockData');
      if (!savedStockData) return;

      const products = JSON.parse(savedStockData);
      const productMap = new Map(products.map(p => [p.id, p]));

      // Update each product on the page
      document.querySelectorAll('.product').forEach(productElement => {
        const productId = productElement.getAttribute('data-product-id');
        const product = productMap.get(productId);
        
        if (product) {
          const priceElement = productElement.querySelector('.price');
          const link = productElement.querySelector('a');
          
          // Update price display
          priceElement.textContent = `‚Çπ${product.price}`;
          
          // Update URL with current price
          const currentHref = link.getAttribute('href');
          const baseUrl = currentHref.split('?')[0];
          const params = new URLSearchParams(currentHref.split('?')[1]);
          params.set('price', product.price);
          link.setAttribute('href', `${baseUrl}?${params.toString()}`);
        }
      });
    }

    function updateProductStockStatus() {
      const products = document.querySelectorAll('.product');
      
      products.forEach(product => {
        const productName = product.querySelector('h3').textContent;
        const priceElement = product.querySelector('.price');
        const isInStock = checkStock(productName);
        const stockQuantity = getStockQuantity(productName);
        
        if (!isInStock) {
          // Add out of stock overlay
          const overlay = document.createElement('div');
          overlay.className = 'out-of-stock-overlay';
          overlay.innerHTML = '<span>Out of Stock</span>';
          product.appendChild(overlay);
          
          // Update price to show out of stock
          priceElement.innerHTML = '<span style="color: #dc2626; font-weight: bold;">Out of Stock</span>';
          
          // Disable the link
          const link = product.querySelector('a');
          link.style.pointerEvents = 'none';
          link.style.opacity = '0.6';
        } else if (stockQuantity <= 3) {
          // Show low stock warning
          const currentPrice = priceElement.textContent;
          priceElement.innerHTML = `${currentPrice} <span style="color: #f59e0b; font-size: 0.8rem;">(Only ${stockQuantity} left!)</span>`;
        }
      });
    }
  </script>
</body>
</html>
